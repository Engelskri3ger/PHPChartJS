# PHPChartJS
PHP OOP library for [ChartJS 2.4](http://www.chartjs.org/)

PHPChartJS acts as an interface between the ChartJS library and the server side code. Set up a chart in no time and have every aspect of the graph managable from your PHP code. This interface is set up to provide code completion in every scenario so you never have to guess or lookup what options are available for the chosen chart. The library is entirely object oriented.

This library is still in active development and aims to implement all options ChartJS has to offer. Check the [Configuration milestone](https://github.com/halfpastfouram/PHPChartJS/milestone/1) to view the progress of implementing all existing options.

## Example use
````php
<?php
use Halfpastfour\PHPChartJS\Chart\Bar;

$bar = new Bar();
$bar->setId( "myBar" );

// Set labels
$bar->getLabels()->exchangeArray( [ "M", "T", "W", "T", "F", "S", "S" ] );

// Add apples
$apples = $bar->createDataSet();
$apples->setLabel( "apples" )
  ->setBackgroundColor( "rgba( 0, 150, 0, .5 )" )
  ->data()->exchangeArray( [ 12, 19, 3, 17, 28, 24, 7 ] );
$bar->addDataSet( $apples );

// Add oranges as well
$oranges = $bar->createDataSet();
$oranges->setLabel( "oranges" )
  ->setBackgroundColor( "rgba( 255, 153, 0, .5 )" )
  ->data()->exchangeArray( [ 30, 29, 5, 5, 20, 3 ] );
  
// Add some extra data
$oranges->data()->append( 10 );

$bar->addDataSet( $oranges );

// Render the chart
echo $bar->render();
````
The result generated by rendering the chart will look something like this:

````html
<canvas id="myBar"></canvas>
<script>
window.onload=(function(oldLoad){return function(){
if( oldLoad ) oldLoad();
var ctx = document.getElementById( "myBar" ).getContext( "2d" );
var chart = new Chart( ctx, {"type":"bar","data":{"labels":["M","T","W","T","F","S","S"],"datasets":[{"data":[12,19,3,17,28,24,7],"label":"apples","backgroundColor":"rgba( 0, 150, 0, .5 )"},{"data":[30,29,5,5,20,3,10],"label":"oranges","backgroundColor":"rgba( 255, 153, 0, .5 )"}]}} );
}})(window.onload);
</script>
````

### Pretty mode
If you're not a fan of the long lines of code that are being generated you can force the rendering to be done in *pretty mode*, see the following example.

````php
// Render in pretty mode
$bar->render( true );
````

Want to see more? Fork this project and take a look at the examples in the test folder to explore the different options.

## Installation

### Using composer
    $ composer require halfpastfouram/phpchartjs dev-master

### Development
This project uses composer, which should be installed on your system. Most
Linux systems have composer available in their PHP packages.
Alternatively you can download composer from [getcomposer.org](http://getcomposer.org).

If you use the PhpStorm IDE then you can simply init composer through the IDE. However,
full use requires the commandline. See PhpStorm help, search for composer.

To start development, do `composer install` from the project directory. 

**Remark** Do not use `composer update` unless you changed the dependency requirements in composer.json.
The difference is that `composer install` will use composer.lock read-only, 
while `composer update` will update your composer.lock file regardless of any change.
As the composer.lock file is committed to the repo, other developers might conclude 
dependencies have changed, while they have not.
